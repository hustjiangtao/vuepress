(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{65:function(s,t,a){"use strict";a.r(t);var e=a(0),r=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"服务器折腾手札"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器折腾手札","aria-hidden":"true"}},[s._v("#")]),s._v(" 服务器折腾手札")]),a("h2",{attrs:{id:"mac下ssh远程登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mac下ssh远程登录","aria-hidden":"true"}},[s._v("#")]),s._v(" Mac下ssh远程登录")]),a("ul",[a("li",[s._v("配置ssh")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ vim ~/.ssh/config\n")])]),a("p",[s._v("添加如下内容")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Host tengxun-root\nHostName xxx.xxx.xxx.xxx\nUser root\nPreferredAuthentications publickey\nIdentityFile ~/.ssh/id_rsa\n")])]),a("ul",[a("li",[s._v("添加ssh免密码登录")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ ssh-add ~/.ssh/id_rsa\n")])]),a("ul",[a("li",[s._v("远程ssh登录")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("ssh")]),s._v(" tengxun-root\n")])]),a("h2",{attrs:{id:"添加新用户"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加新用户","aria-hidden":"true"}},[s._v("#")]),s._v(" 添加新用户")]),a("ul",[a("li",[s._v("添加用户")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ adduser "),a("span",{attrs:{class:"token function"}},[s._v("test")]),s._v("\n")])]),a("ul",[a("li",[s._v("添加密码")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("passwd")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("test")]),s._v("\n")])]),a("h2",{attrs:{id:"安装nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装nginx","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装Nginx")]),a("ul",[a("li",[s._v("安装并启动Nginx")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yum "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" nginx  安装Nginx\n$ systemctl start nginx.service"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nginx"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  启动Nginx服务\n$ systemctl "),a("span",{attrs:{class:"token function"}},[s._v("enable")]),s._v(" nginx.service"),a("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nginx"),a("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  设置Nginx服务开机启动\n")])]),a("ul",[a("li",[s._v("查看Nginx配置文件")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/nginx/nginx.conf  查看Nginx配置文件\n")])]),a("ul",[a("li",[s._v("修改Nginx配置")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ vim /etc/nginx/nginx.conf\n")])]),a("p",[s._v("调整以下内容")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("server {\n        listen       80 default_server;\n        listen       [::]:80 default_server;\n        server_name  _;\n        # root         /usr/share/nginx/html;\n        root    /var/www/html;\n\n        # Load configuration files for the default server block.\n        include /etc/nginx/default.d/*.conf;\n\n        location / {\n        }\n\n        error_page 404 /404.html;\n            location = /40x.html {\n        }\n\n        error_page 500 502 503 504 /50x.html;\n            location = /50x.html {\n        }\n    }\n")])]),a("h2",{attrs:{id:"安装redis"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装redis","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装Redis")]),a("ul",[a("li",[s._v("安装并启动Redis")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yum "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" redis  安装Redis\n$ systemctl start redis.service  启动Redis服务\n")])]),a("ul",[a("li",[s._v("查看Redis配置文件")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/redis.conf\n")])]),a("h2",{attrs:{id:"安装git"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装git","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装Git")]),a("ul",[a("li",[s._v("安装并启动Git")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yum "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("git")]),s._v("  安装Git\n")])]),a("ul",[a("li",[s._v("查看Git配置文件")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/gitconfig\n$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" ~/.gitconfig\n")])]),a("ul",[a("li",[s._v("使用指南\n"),a("a",{attrs:{href:"https://git-scm.com/book/zh/v1/%E8%87%AA%E5%AE%9A%E4%B9%89-Git-%E9%85%8D%E7%BD%AE-Git",target:"_blank",rel:"noopener noreferrer"}},[s._v("Git使用指南")])])]),a("h2",{attrs:{id:"安装elasticsearch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装elasticsearch","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装ElasticSearch")]),a("ul",[a("li",[s._v("安装jdk依赖")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ rpm -qa "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" -E "),a("span",{attrs:{class:"token string"}},[s._v("'^open[jre|jdk]|j[re|dk]'")]),s._v("  查看系统内是否已有jdk相关依赖\n$ rpm -qa "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" jdk  查看系统内是否已有jdk\n$ yum search java "),a("span",{attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{attrs:{class:"token function"}},[s._v("grep")]),s._v(" jdk  检查yum源中jdk版本\n$ yum "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" java-1.8.0-openjdk  安装jdk\n$ java -version  查看java版本\n$ "),a("span",{attrs:{class:"token function"}},[s._v("whereis")]),s._v(" jdk  查看jdk安装目录\n$ vim /etc/profile  编辑以设置java环境变量\n添加如下内容：\n "),a("span",{attrs:{class:"token comment"}},[s._v("#set java environment")]),s._v("\nJAVA_HOME"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.161-0.b14.el7_4.x86_64\nJRE_HOME"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/jre\nCLASS_PATH"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),s._v(".:"),a("span",{attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib/dt.jar:"),a("span",{attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/lib/tools.jar:"),a("span",{attrs:{class:"token variable"}},[s._v("$JRE_HOME")]),s._v("/lib\nPATH"),a("span",{attrs:{class:"token operator"}},[s._v("=")]),a("span",{attrs:{class:"token variable"}},[s._v("$PATH")]),a("span",{attrs:{class:"token keyword"}},[s._v(":")]),a("span",{attrs:{class:"token variable"}},[s._v("$JAVA_HOME")]),s._v("/bin:"),a("span",{attrs:{class:"token variable"}},[s._v("$JRE_HOME")]),s._v("/bin\n"),a("span",{attrs:{class:"token function"}},[s._v("export")]),s._v(" JAVA_HOME JRE_HOME CLASS_PATH PATH\n$ "),a("span",{attrs:{class:"token function"}},[s._v("source")]),s._v(" /etc/profile  使配置生效\n")])]),a("ul",[a("li",[s._v("安装并启动ElasticSearch服务")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.2.2.rpm  下载rpm包\n$ rpm --install elasticsearch-6.2.2.rpm  rpm安装\n$ systemctl daemon-reload  开启后台守护模式\n$ systemctl "),a("span",{attrs:{class:"token function"}},[s._v("enable")]),s._v(" elasticsearch.service  开启开机自启服务\n$ systemctl start elasticsearch.service  开启服务\n$ systemctl status elasticsearch.service  查看服务状态\n$ "),a("span",{attrs:{class:"token function"}},[s._v("curl")]),s._v(" http://localhost:9200  验证ElasticSearch服务\n")])]),a("ul",[a("li",[s._v("查看ElasticSearch配置")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/elasticsearch/elasticsearch.yml  默认配置\n$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/sysconfig/elasticsearch  rpm系统配置\n")])]),a("ul",[a("li",[s._v("参考文章\n"),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/rpm.html#rpm",target:"_blank",rel:"noopener noreferrer"}},[s._v("ElasticSearch官方rpm安装参考")]),a("a",{attrs:{href:"https://www.biaodianfu.com/centos-7-install-elasticsearch.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ElasticSearch在centos7上的安装与配置")]),a("a",{attrs:{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Elasticsearch Reference")]),a("a",{attrs:{href:"https://www.elastic.co/guide/cn/elasticsearch/guide/cn/foreword_id.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Elasticsearch: 权威指南")])])]),a("h2",{attrs:{id:"安装supervisor"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装supervisor","aria-hidden":"true"}},[s._v("#")]),s._v(" 安装supervisor")]),a("ul",[a("li",[s._v("安装并启动supervisor")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ yum "),a("span",{attrs:{class:"token function"}},[s._v("install")]),s._v(" supervisor  安装\n$ supervisorctl  启动\n")])]),a("ul",[a("li",[s._v("查看supervisor配置")])]),a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("$ "),a("span",{attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/supervisord.conf\n")])]),a("ul",[a("li",[s._v("supervisor命令")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ supervisorctl  控制台\n$ supervisorctl status  查看状态\n$ supervisorctl start xxx  启动xxx服务\n$ supervisorctl stop xxx  停止xxx服务\n$ supervisorctl restart xxx  重启xxx服务\n$ supervisorctl start all  启动所有服务\n$ supervisorctl stop all  停止所有服务\n")])]),a("ul",[a("li",[s._v("supervisor配置参考")])]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# x-server服务\n# x-server.ini/x-server.conf\n[program:x-server]\ncommand=python x-server.py\ndirectory=/home/x-user/x-server-dir\nuser=nginx\nstopwaitsecs=60\nstopasgroup=true\nkillasgroup=true\nautorestart=true\nredirect_stderr=true\nstdout_logfile=/var/log/x-user/x-server.log\nloglevel=info\nenvironment=X_SERVER_ENV=prod\n")])])])}],!1,null,null,null);t.default=r.exports}}]);